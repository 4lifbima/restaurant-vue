<template>
  <section id="faqs">
    <div class="bg-base-100 relative h-full py-8 sm:py-16 lg:py-24">
      <div class="mx-auto max-w-[1280px] px-4 sm:px-6 lg:px-8">
        <!-- Decorative SVG 1 -->
        <span class="absolute start-[15%]">
          <svg xmlns="http://www.w3.org/2000/svg" width="102" height="120" viewBox="0 0 102 120" fill="none">
            <g opacity="0.06">
              <path
                d="M28.7216 21.3499C28.9372 20.7851 41.4433 1.58331 65.1497 9.79441C81.0958 15.3176 91.1148 31.322 85.0343 47.2497C80.8081 58.3201 70.4601 62.4098 58.4869 63.5065C54.2254 63.9489 52.9117 67.0751 51.4887 70.8027L49.0737 77.1288L31.533 71.0533L36.2336 58.7402C38.131 53.77 39.8962 49.7767 45.9306 48.1581C54.097 45.9987 60.2859 47.7587 63.3477 39.7382C65.4177 34.316 63.0568 29.1498 58.273 27.4928C50.6191 24.8418 44.3109 30.3308 41.287 34.7831L28.7216 21.3499ZM45.1012 97.6235C42.3843 104.74 34.7635 108.623 27.9601 106.267C21.2626 103.947 18.0403 96.308 20.7571 89.1915C23.517 81.9618 31.1379 78.0787 37.8354 80.3985C44.6389 82.7549 47.8611 90.3941 45.1012 97.6235Z"
                fill="var(--color-primary)"
                fill-opacity="0.5" />
              <path d="M44.7303 82.2389L38.3477 79.918L29.1259 105.278L35.5086 107.599L44.7303 82.2389Z" fill="var(--color-primary)" fill-opacity="0.5" />
              <path
                d="M35.1044 23.6722C35.32 23.1074 47.8261 3.90558 71.5325 12.1167C87.4786 17.6399 97.4976 33.6442 91.4171 49.572C87.1909 60.6423 76.8429 64.7321 64.8694 65.8287C60.608 66.2711 59.2942 69.3973 57.8712 73.1249L55.4562 79.4509L37.9155 73.3754L42.6161 61.0624C44.5135 56.0921 46.2788 52.0989 52.3131 50.4803C60.4795 48.3208 66.6684 50.0808 69.7303 42.0604C71.8002 36.6382 69.4394 31.472 64.6555 29.815C57.0017 27.164 50.6934 32.653 47.6696 37.1053L35.1044 23.6722ZM51.4838 99.9456C48.7669 107.062 41.1461 110.945 34.3426 108.589C27.6451 106.269 24.4228 98.6302 27.1396 91.5137C29.8996 84.284 37.5205 80.4008 44.218 82.7206C51.0217 85.0772 54.2436 92.7162 51.4838 99.9456Z"
                fill="var(--color-primary)" />
              <path d="M26.8203 20.9316L33.203 23.2526L46.623 37.0351L40.2406 34.7143L26.8203 20.9316Z" fill="var(--color-primary)" fill-opacity="0.4" />
            </g>
          </svg>
        </span>
        <!-- Decorative SVG 2 -->
        <span class="absolute end-[15%] sm:max-md:end-[5%]">
          <svg xmlns="http://www.w3.org/2000/svg" width="166" height="181" viewBox="0 0 166 181" fill="none">
            <g opacity="0.06">
              <path
                d="M32.038 72.3179C31.7026 71.5655 25.451 41.3586 57.0249 28.2981C78.263 19.513 103.808 26.4121 113.264 47.6299C119.836 62.3771 113.524 75.6814 102.682 87.4734C98.8736 91.7219 100.61 95.994 102.823 100.96L106.579 109.387L83.2168 119.05L75.9067 102.648C72.9559 96.0267 70.8247 90.4919 75.2515 83.4928C81.2727 74.0516 89.142 70.2619 84.3804 59.5776C81.1613 52.3546 73.7841 49.3467 67.4126 51.9823C57.2187 56.1989 56.2869 67.2777 57.6131 74.3927L32.038 72.3179ZM122.577 133.245C126.802 142.725 123.002 153.386 113.94 157.134C105.02 160.824 94.3791 156.137 90.1541 146.656C85.8619 137.026 89.6625 126.364 98.5827 122.674C107.644 118.926 118.285 123.614 122.577 133.245Z"
                fill="var(--color-primary)"
                fill-opacity="0.5" />
              <path d="M106.263 118.478L97.7661 122.126L112.262 155.888L120.76 152.24L106.263 118.478Z" fill="var(--color-primary)" fill-opacity="0.5" />
              <path
                d="M40.5389 68.6694C40.2036 67.9171 33.952 37.7101 65.5259 24.6497C86.764 15.8645 112.309 22.7637 121.765 43.9815C128.337 58.7287 122.025 72.033 111.183 83.8251C107.374 88.0736 109.111 92.3457 111.324 97.3113L115.079 105.738L91.7174 115.402L84.4073 98.9994C81.4566 92.3784 79.3253 86.8436 83.7521 79.8445C89.7733 70.4033 97.6427 66.6136 92.8811 55.9293C89.662 48.7063 82.2847 45.6984 75.9132 48.334C65.7193 52.5506 64.7875 63.6294 66.1137 70.7444L40.5389 68.6694ZM131.078 129.596C135.303 139.077 131.502 149.738 122.441 153.486C113.521 157.176 102.88 152.488 98.6547 143.008C94.3625 133.377 98.1631 122.716 107.083 119.026C116.145 115.278 126.786 119.966 131.078 129.596Z"
                fill="var(--color-primary)" />
              <path d="M31.3276 74.3447L39.825 70.6963L65.9923 71.8589L57.4953 75.5072L31.3276 74.3447Z" fill="var(--color-primary)" fill-opacity="0.4" />
            </g>
          </svg>
        </span>
        <!-- FAQ Header -->
        <div class="mb-12 space-y-4 text-wrap text-center sm:mb-16 lg:mb-24">
          <h2 class="text-base-content text-2xl font-semibold md:text-3xl lg:text-4xl">Frequently Asked Questions</h2>
          <p class="text-base-content/80 text-xl">Levarage artificial intelligence algorithms to provide users with valuable insights</p>
        </div>
        <!-- FAQ carousel -->
        <div class="relative w-full">
          <div class="flex gap-1">
            <!-- Previous Slide -->
            <button 
              class="btn btn-circle btn-outline btn-primary hover:bg-primary relative hover:text-white max-md:hidden" 
              :disabled="currentSlide === 0"
              @click="prevSlide"
            >
              <span class="icon-[tabler--arrow-left] size-5.5"></span>
            </button>
            <div class="carousel rounded-box overflow-hidden flex-1">
              <div class="flex gap-12 transition-transform duration-300" :style="{ transform: `translateX(-${currentSlide * slideWidth}%)` }">
                <!-- Slide 1 -->
                <div class="flex-shrink-0 w-full md:w-[calc(50%-24px)] lg:w-[calc(33.333%-32px)] m-2">
                  <div class="rounded-box hover:bg-base-100 hover:ring-primary p-4 text-center hover:ring">
                    <h5 class="text-base-content mb-2 text-xl font-semibold">Do you offer home delivery?</h5>
                    <p class="text-base-content/80">Yes, we do! You can place your order directly through our website or via trusted food delivery platforms like Swiggy and Zomato. We ensure that all dishes are packed with care and delivered promptly, so you can enjoy restaurant-quality food in the comfort of your home.</p>
                    <div class="group mt-5 flex items-center justify-center gap-2">
                      <a href="#" class="link link-animated link-primary font-normal">Learn more</a>
                      <span class="icon-[tabler--arrow-narrow-right] text-primary size-5 shrink-0 transition-transform group-hover:-translate-x-1 rtl:rotate-180"></span>
                    </div>
                  </div>
                </div>
                <!-- Slide 2 -->
                <div class="flex-shrink-0 w-full md:w-[calc(50%-24px)] lg:w-[calc(33.333%-32px)] m-2">
                  <div class="rounded-box hover:bg-base-100 hover:ring-primary p-4 text-center hover:ring">
                    <h5 class="text-base-content mb-2 text-xl font-semibold">How can I book a table?</h5>
                    <p class="text-base-content/80">Booking a table is simple and quick. Just head over to our reservation page, choose your preferred date and time, and confirm your booking in a few clicks. You'll receive a confirmation instantly. Prefer to speak with someone? You can also call us directly.</p>
                    <div class="group mt-5 flex items-center justify-center gap-2">
                      <a href="#" class="link link-animated link-primary font-normal">Learn more</a>
                      <span class="icon-[tabler--arrow-narrow-right] text-primary size-5 shrink-0 transition-transform group-hover:-translate-x-1 rtl:rotate-180"></span>
                    </div>
                  </div>
                </div>
                <!-- Slide 3 -->
                <div class="flex-shrink-0 w-full md:w-[calc(50%-24px)] lg:w-[calc(33.333%-32px)] m-2">
                  <div class="rounded-box hover:bg-base-100 hover:ring-primary p-4 text-center hover:ring">
                    <h5 class="text-base-content mb-2 text-xl font-semibold">What are your opening hours?</h5>
                    <p class="text-base-content/80">We're open every day from 11:00 AM to 11:00 PM, offering both lunch and dinner service. On weekends, we also serve a special brunch menu from 10:00 AM to 1:00 PM. Holiday hours may vary, so be sure to check our website or follow us on social media for real-time updates and special announcements.</p>
                    <div class="group mt-5 flex items-center justify-center gap-2">
                      <a href="#" class="link link-animated link-primary font-normal">Learn more</a>
                      <span class="icon-[tabler--arrow-narrow-right] text-primary size-5 shrink-0 transition-transform group-hover:-translate-x-1 rtl:rotate-180"></span>
                    </div>
                  </div>
                </div>
                <!-- Slide 4 -->
                <div class="flex-shrink-0 w-full md:w-[calc(50%-24px)] lg:w-[calc(33.333%-32px)] m-2">
                  <div class="rounded-box hover:bg-base-100 hover:ring-primary p-4 text-center hover:ring">
                    <h5 class="text-base-content mb-2 text-xl font-semibold">What are your payment options ?</h5>
                    <p class="text-base-content/80">We offer several payment options for your convenience, including credit/debit card payments, bank transfers, and online payment gateways. We also offer flexible payment plans for select travel packages.</p>
                    <div class="group mt-5 flex items-center justify-center gap-2">
                      <a href="#" class="link link-animated link-primary font-normal">Learn more</a>
                      <span class="icon-[tabler--arrow-narrow-right] text-primary size-5 shrink-0 transition-transform group-hover:-translate-x-1 rtl:rotate-180"></span>
                    </div>
                  </div>
                </div>
                <!-- Slide 5 -->
                <div class="flex-shrink-0 w-full md:w-[calc(50%-24px)] lg:w-[calc(33.333%-32px)] m-2">
                  <div class="rounded-box hover:bg-base-100 hover:ring-primary p-4 text-center hover:ring">
                    <h5 class="text-base-content mb-2 text-xl font-semibold">Do you offer vegan options?</h5>
                    <p class="text-base-content/80">Yes, we do! We offer a variety of vegan dishes that are both flavorful and satisfying. Our menu includes plant-based starters, mains, and even desserts.</p>
                    <div class="group mt-5 flex items-center justify-center gap-2">
                      <a href="#" class="link link-animated link-primary font-normal">Learn more</a>
                      <span class="icon-[tabler--arrow-narrow-right] text-primary size-5 shrink-0 transition-transform group-hover:-translate-x-1 rtl:rotate-180"></span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Next Slide -->
            <button 
              class="btn btn-circle btn-primary btn-outline hover:bg-primary relative hover:text-white max-md:hidden"
              @click="nextSlide"
            >
              <span class="icon-[tabler--arrow-right] size-5.5"></span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'

const currentSlide = ref(0)
const screenSize = ref('lg')

const checkScreenSize = () => {
  if (window.innerWidth < 768) {
    screenSize.value = 'sm'
  } else if (window.innerWidth < 1024) {
    screenSize.value = 'md'
  } else {
    screenSize.value = 'lg'
  }
}

const slideWidth = computed(() => {
  if (screenSize.value === 'sm') return 100
  if (screenSize.value === 'md') return 50
  return 33.333
})

const maxSlide = computed(() => {
  if (screenSize.value === 'sm') return 4
  if (screenSize.value === 'md') return 3
  return 2
})

const prevSlide = () => {
  if (currentSlide.value > 0) {
    currentSlide.value--
  }
}

const nextSlide = () => {
  if (currentSlide.value < maxSlide.value) {
    currentSlide.value++
  }
}

onMounted(() => {
  checkScreenSize()
  window.addEventListener('resize', checkScreenSize)
})

onUnmounted(() => {
  window.removeEventListener('resize', checkScreenSize)
})
</script>
